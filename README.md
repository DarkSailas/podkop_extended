# üï≥Ô∏è Podkop Extended (OpenWRT 24+)

[![GitHub release](https://img.shields.io/github/v/release/DarkSailas/podkop_extended?style=flat-square)](https://github.com/DarkSailas/podkop_extended/releases)
[![License](https://img.shields.io/github/license/DarkSailas/podkop_extended?style=flat-square)](LICENSE)
[![Telegram](https://img.shields.io/badge/Telegram-Join-blue?style=flat-square&logo=telegram)](https://t.me/itdogchat)

**Podkop Extended** ‚Äî —ç—Ç–æ –≥–ª—É–±–æ–∫–æ –º–æ–¥–µ—Ä–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ Podkop, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä–µ–∞–ª–∏–π OpenWRT 24+ –∏ Firewall4. 

> [!NOTE]  
> –≠—Ç–æ –≤–µ—Ä—Å–∏—è –æ—Ç **DarkSailas**, –≤–∫–ª—é—á–∞—é—â–∞—è –Ω–∞—Ç–∏–≤–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É nftables, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π Failover –∏ —É–ª—É—á—à–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ DNS.

---

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∏—à–∫–∏ Extended-–≤–µ—Ä—Å–∏–∏

### üõ°Ô∏è Firewall4 (fw4) Native
–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏, Extended –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–±–æ—Ä—ã –ø—Ä–∞–≤–∏–ª –≤ `/etc/podkop/podkop.nft` –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç –∏—Ö –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–π `config include`. –ü—Ä–∞–≤–∏–ª–∞ –Ω–µ ¬´–æ—Ç–≤–∞–ª—è—Ç—Å—è¬ª –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–µ—Ä–≤–æ–ª–∞ –∏ –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç —Å Docker.

### üöë –£–º–Ω—ã–π Failover (Health-check)
–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø—Ä–æ–∫—Å–∏ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥. –ï—Å–ª–∏ –≤–∞—à VLESS/Shadowsocks ¬´–ø—Ä–∏–ª–µ–≥¬ª ‚Äî —Å–∫—Ä–∏–ø—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç DNS –≤ –ø—Ä—è–º–æ–π —Ä–µ–∂–∏–º, —Å–æ—Ö—Ä–∞–Ω—è—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞. –ö–∞–∫ —Ç–æ–ª—å–∫–æ —Å–≤—è–∑—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è ‚Äî –≤—Å—ë –≤–µ—Ä–Ω–µ—Ç—Å—è –Ω–∞ –ø—Ä–æ–∫—Å–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

### üß† –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π DNS
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ö–∞–Ω–∏–∑–º `dnsmasq confdir`. –ú—ã –±–æ–ª—å—à–µ –Ω–µ —Ç—Ä–æ–≥–∞–µ–º `/etc/config/dhcp` –Ω–∞–ø—Ä—è–º—É—é. –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∂–∏–≤—É—Ç –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º `/tmp/dnsmasq.d/`, —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —á–∏—Å—Ç–æ—Ç—É —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤.

### ‚ö° –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –∏ —Å–∫–æ—Ä–æ—Å—Ç—å
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ (`ntpd`) –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è (–±–æ–ª—å—à–µ –Ω–∏–∫–∞–∫–∏—Ö –ø–∞—É–∑ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ).
- –ù–∏–∫–∞–∫–∏—Ö –æ–ø–∞—Å–Ω—ã—Ö `sed` –Ω–∞–¥ `/etc/iproute2/rt_tables`.

---

## üöÄ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Ä–æ—É—Ç–µ—Ä–∞:

```bash
sh <(wget -q -O - https://raw.githubusercontent.com/DarkSailas/podkop_extended/refs/heads/main/install.sh)
```

---

## üõ†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ –Ω—é–∞–Ω—Å—ã
- **–û–°**: OpenWRT 24.10+ (—Å Firewall4).
- **–ú–µ—Å—Ç–æ**: –º–∏–Ω–∏–º—É–º 25–ú–ë —Å–≤–æ–±–æ–¥–Ω–æ–π –ø–∞–º—è—Ç–∏.
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –ü–∞–∫–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å `https-dns-proxy` –∏ `nextdns`.

---

## üìà –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è (Roadmap)
- [ ] **IPv6 Support**: –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ IPv6 –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏.
- [ ] **Modern LuCI**: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ JS –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.
- [ ] **Wireguard/AWG Integration**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞—Ç–∏–≤–Ω—ã—Ö VPN –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –ø–æ–º–∏–º–æ sing-box.
- [ ] **Advanced Logging**: –ì—Ä–∞—Ñ–∏–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏ –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

---

## ü§ù –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
–ü—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –ï—Å–ª–∏ –Ω–∞—à–ª–∏ –±–∞–≥ –∏–ª–∏ –µ—Å—Ç—å –∏–¥–µ—è ‚Äî —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ Issue –∏–ª–∏ –ø–∏—à–∏—Ç–µ –≤ –Ω–∞—à [—Ç–µ–ª–µ–≥—Ä–∞–º-—á–∞—Ç](https://t.me/itdogchat).

---
*Created with ‚ù§Ô∏è by DarkSailas based on ITDog's original Podkop.*